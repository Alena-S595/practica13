# Импортируем библиотеку tkinter для создания графического интерфейса
import tkinter as tk

# Создаем класс приложения для анимации
class AnimationApp:
    # Конструктор класса, инициализирующий главное окно
    def __init__(self, root):
        # Сохраняем ссылку на главное окно
        self.root = root
        # Устанавливаем заголовок окна
        self.root.title("Анимация")
        
        # Создаем холст (Canvas) для рисования с размерами 400x300 и белым фоном
        self.canvas = tk.Canvas(root, width=400, height=300, bg="white")
        # Размещаем холст в окне с помощью менеджера геометрии pack()
        self.canvas.pack()
        
        # Создаем красный шарик (овал) на холсте с начальными координатами (10,10) и (30,30)
        self.ball = self.canvas.create_oval(10, 10, 30, 30, fill="red")
        # Задаем начальную скорость движения по оси X (2 пикселя за шаг)
        self.dx = 2
        # Задаем начальную скорость движения по оси Y (2 пикселя за шаг)
        self.dy = 2
        
        # Запускаем анимацию, вызывая метод animate()
        self.animate()
    
    # Метод, реализующий анимацию шарика
    def animate(self):
        # Перемещаем шарик на холсте на заданные расстояния dx и dy
        self.canvas.move(self.ball, self.dx, self.dy)
        # Получаем текущие координаты шарика [x1, y1, x2, y2]
        pos = self.canvas.coords(self.ball)
        
        # Проверяем столкновение с правой или левой границей холста
        if pos[2] >= 400 or pos[0] <= 0:
            # Если столкнулись, меняем направление по оси X на противоположное
            self.dx = -self.dx
        # Проверяем столкновение с нижней или верхней границей холста
        if pos[3] >= 300 or pos[1] <= 0:
            # Если столкнулись, меняем направление по оси Y на противоположное
            self.dy = -self.dy
            
        # Через 10 миллисекунд снова вызываем этот метод для создания анимации
        self.root.after(10, self.animate)

# Создаем главное окно приложения
root = tk.Tk()
# Создаем экземпляр нашего приложения
app = AnimationApp(root)
# Запускаем главный цикл обработки событий
root.mainloop()
